# apiVersion: v1
# kind: Service
# metadata:
#   name: postgres-nodeport
#   namespace: db
# spec:
#   type: NodePort
#   selector:
#     postgres-operator.crunchydata.com/cluster: db-postgres-cluster-db
#     postgres-operator.crunchydata.com/role: master
#   ports:
#     - name: postgres          # Service port name
#       port: 5432              # ClusterIP port (internal)
#       targetPort: 5432        # Pod port
#       nodePort: 30032         # External NodePort
#       protocol: TCP
# ---
# apiVersion: traefik.io/v1alpha1
# kind: IngressRouteTCP
# metadata:
#   name: postgres-tcp-route2
#   namespace: db
# spec:
#   entryPoints:
#     - tcp-postgres
#   routes:
#     - match: HostSNI(`*`)
#       services:
#         - name: postgres-nodeport
#           namespace: db
#           port: 5432   # MUST match Service "port", NOT NodePort
